{"version":3,"sources":["../../../src/cleave.js/utils/Util.js"],"names":[],"mappings":"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","file":"Util.js","sourcesContent":["'use strict';\n\nvar Util = {\n    noop: function () {\n    },\n\n    strip: function (value, re) {\n        return value.replace(re, '');\n    },\n\n    isDelimiter: function (letter, delimiter, delimiters) {\n        // single delimiter\n        if (delimiters.length === 0) {\n            return letter === delimiter;\n        }\n\n        // multiple delimiters\n        return delimiters.some(function (current) {\n            if (letter === current) {\n                return true;\n            }\n        });\n    },\n\n    stripDelimiters: function (value, delimiter, delimiters) {\n        // single delimiter\n        if (delimiters.length === 0) {\n            var delimiterRE = delimiter ? new RegExp('\\\\' + delimiter, 'g') : '';\n\n            return value.replace(delimiterRE, '');\n        }\n\n        // multiple delimiters\n        delimiters.forEach(function (current) {\n            value = value.replace(new RegExp('\\\\' + current, 'g'), '');\n        });\n\n        return value;\n    },\n\n    headStr: function (str, length) {\n        return str.slice(0, length);\n    },\n\n    getMaxLength: function (blocks) {\n        return blocks.reduce(function (previous, current) {\n            return previous + current;\n        }, 0);\n    },\n\n    // strip value by prefix length\n    // for prefix: PRE\n    // (PRE123, 3) -> 123\n    // (PR123, 3) -> 23 this happens when user hits backspace in front of \"PRE\"\n    getPrefixStrippedValue: function (value, prefix, prefixLength) {\n        if (value.slice(0, prefixLength) !== prefix) {\n            var diffIndex = this.getFirstDiffIndex(prefix, value.slice(0, prefixLength));\n\n            value = prefix + value.slice(diffIndex, diffIndex + 1) + value.slice(prefixLength + 1);\n        }\n\n        return value.slice(prefixLength);\n    },\n\n    getFirstDiffIndex: function (prev, current) {\n        var index = 0;\n\n        while (prev.charAt(index) === current.charAt(index))\n            if (prev.charAt(index++) === '')\n                return -1;\n\n        return index;\n    },\n\n    getFormattedValue: function (value, blocks, blocksLength, delimiter, delimiters) {\n        var result = '',\n            multipleDelimiters = delimiters.length > 0,\n            currentDelimiter;\n\n        blocks.forEach(function (length, index) {\n            if (value.length > 0) {\n                var sub = value.slice(0, length),\n                    rest = value.slice(length);\n\n                result += sub;\n\n                currentDelimiter = multipleDelimiters ? (delimiters[index] || currentDelimiter) : delimiter;\n\n                if (sub.length === length && index < blocksLength - 1) {\n                    result += currentDelimiter;\n                }\n\n                // update remaining string\n                value = rest;\n            }\n        });\n\n        return result;\n    }\n};\n\nif (typeof module === 'object' && typeof module.exports === 'object') {\n    module.exports = exports = Util;\n}\n"]}